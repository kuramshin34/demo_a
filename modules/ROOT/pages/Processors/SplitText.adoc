= SplitText 2.2.0

Разделяет текстовый файл на несколько меньших текстовых файлов по границам строк, ограниченных максимальным количеством строк или общей длиной фрагмента. Каждый выходной раздельный файл будет содержать не более заданного количества строк или байт. Если указаны и Линейное Разделение Счетчика Строк, и Максимальный Предел Размера Фрагмента, разделение происходит по тому из этих пределов, который будет достигнут первым. Если первая строка фрагмента превышает Максимальный Предел Размера Фрагмента, эта строка будет выведена в один раздельный файл, что превысит заданный максимальный размер лимита. Этот компонент также позволяет указать, что каждый раздел должен включать строки заголовка. Строки заголовка могут быть вычислены путем указания количества строк, которые должны составлять заголовок, или с использованием маркера заголовка для сопоставления с прочитанными строками. Если такое совпадение произойдет, соответствующая строка будет рассматриваться как заголовок. Следует помнить, что после первого неудачного сопоставления маркера заголовка никакие дальнейшие совпадения не будут выполняться, а оставшиеся данные будут анализироваться как обычные строки для данного раздела. Если после расчета заголовка больше нет данных, результирующий раздел будет состоять только из строк заголовка.

[horizontal]
*Tags* (Ключевые слова):
split, text
[horizontal]
*Input Requirement* (Требования к вводу данных):
REQUIRED
[horizontal]
*Supports Sensitive Dynamic* (Поддержка динамически изменяемых параметров, которые могут содержать конфиденциальную информацию):
 False (Нет) 



== Properties (Свойства)


.*Line Split Count*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Line Split Count (Количество строк в каждом разбиении файла, исключая заголовочные строки)

[horizontal]
*DESCRIPTION (Описание):*:: The number of lines that will be added to each split file, excluding header lines. A value of zero requires Maximum Fragment Size to be set, and line count will not be considered in determining splits.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.Maximum Fragment Size
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Maximum Fragment Size (Максимальный размер фрагмента)

[horizontal]
*DESCRIPTION (Описание):*:: Максимальный размер каждого разбитого файла, включая строки заголовка. Примечание: в случае, если одна строка превышает это свойство (включая заголовки, если применимо), эта строка будет выведена в отдельном разбиении, которое превышает установленный максимальный размер фрагмента.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  False (Нет) 
************************************************
.*Header Line Count*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Header Line Count (Количество строк в заголовке)

[horizontal]
*DESCRIPTION (Описание):*:: The number of lines that should be considered part of the header; the header lines will be duplicated to all split files


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.Header Line Marker Characters
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Header Line Marker Characters (Заголовочная строка Маркер Символов)

[horizontal]
*DESCRIPTION (Описание):*:: Первый символ(ы) в строке данного файла, который обозначает заголовковую строку. Это значение игнорируется, если счетчик заголовка не равен нулю. Первая строка, не содержащая символов заголовочной строки и все последующие строки считаются не заголовковыми


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  False (Нет) 
************************************************
.*Remove Trailing Newlines*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Remove Trailing Newlines (Удалить конечные строки новой строки)

[horizontal]
*DESCRIPTION (Описание):*:: Определяет, следует ли удалять символы новой строки в конце каждого разделенного файла. Это должно быть false, если вы планируете объединить эти файлы позже. Если это установлено в 'true' и создается FlowFile, который содержит только 'пустые строки' (то есть состоит только из символов \r и \n), такой FlowFile не будет выпущен. Однако следует отметить, что если указаны заголовочные строки, результирующий FlowFile никогда не будет пустым, поскольку он будет состоять из заголовочных строк, так что может быть выпущен FlowFile, который содержит только заголовочные строки.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*ALLOWABLE VALUES (Допустимые значения):*::

* true

* false


[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************






=== Системные ресурсы

[cols="1a,2a",options="header",]
|===
|Ресурс |Описание


|MEMORY
|Поток с его атрибутами хранится в памяти, не содержимое потока. Если генерируется много разделов из-за размера содержимого или способа настройки разделения содержимого, может потребоваться двухфазный подход для предотвращения чрезмерного использования памяти.

|===





=== Relationships (Связи)

[cols="1a,2a",options="header",]
|===
|Наименование |Описание

|`splits`
|Раздельные файлы будут направлены в это назначение при успешном разделении входного файла на один или более раздельных файлов

|`original`
|Исходный входной файл будет направлен в это назначение при успешном разделении на один или более файлов

|`failure`
|Если по какой-либо причине файл не может быть разделен, исходный файл будет направлен в это назначение, и ничего больше не будет направляться.

|===





=== Writes Attributes (Записываемые атрибуты)

[cols="1a,2a",options="header",]
|===
|Наименование |Описание

|`text.line.count`
|Количество строк текста из исходного потока, скопированных в этот поток

|`fragment.size`
|Количество байтов из исходного потока, скопированных в этот поток, включая заголовок, если применимо, который дублируется во всех разделенных файлах

|`fragment.identifier`
|Все раздельные потоки, созданные из одного родительского потока, будут иметь добавленный случайно сгенерированный UUID для этого атрибута

|`fragment.index`
|Одноуказательное число, указывающее порядок разделенных потоков, созданных из одного родительского потока

|`fragment.count`
|Количество раздельных потоков, сгенерированных от родительского потока

|`segment.original.filename `
|Имя файла родительского потока

|===







=== Смотрите также


* xref:Processors/MergeContent.adoc[MergeContent]


