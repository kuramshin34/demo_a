= AttributeRollingWindow 2.2.0

Отслеживает скользящее окно на основе оценки выражения языка выражений (Expression Language) для каждого FlowFile и добавляет это значение в состояние процессора. Каждый FlowFile будет испускаться с количеством FlowFiles и общей агрегированной стоимостью значений, обработанных в текущем временном окне.

[horizontal]
*Tags* (Ключевые слова):
Attribute Expression Language, data science, rolling, state, window
[horizontal]
*Input Requirement* (Требования к вводу данных):
REQUIRED
[horizontal]
*Supports Sensitive Dynamic* (Поддержка динамически изменяемых параметров, которые могут содержать конфиденциальную информацию):
 False (Нет) 



== Properties (Свойства)


.*Value To Track*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Значение для отслеживания

[horizontal]
*DESCRIPTION (Описание):*:: Выражение, по которому следует оценить каждый FlowFile. Результат выражения будет добавлен в значение скользящего окна.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Environment variables and FlowFile Attributes (Переменные среды и атрибуты FlowFile)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.*Time Window*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Time window (Временное окно)

[horizontal]
*DESCRIPTION (Описание):*:: The time window on which to calculate the rolling window.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.Sub-Window Length
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Sub-window length (Длина подокна)

[horizontal]
*DESCRIPTION (Описание):*:: Когда установлено, значения будут сгруппированы в подокна заданной длины. Это позволяет установить гораздо большие общие окна, но при этом ухудшается точность. Если это не установлено (или равно 0), каждое значение хранится в состоянии с временным штампом его получения. После истечения времени, указанного в окне Time elaspes, значение будет удалено. Если это установлено, значения будут группироваться вместе каждые X единиц времени (где X — период времени для этого свойства) и удаляться одновременно.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  False (Нет) 
************************************************




=== Управление состоянием

[cols="1a,2a",options="header",]
|===
|Масштаб |Описание

|
LOCAL

|Хранит значения, лежащие в основе скользящего окна. Это включает хранение отдельных значений и их временных меток или пакетов значений и их количества.
|===







=== Relationships (Связи)

[cols="1a,2a",options="header",]
|===
|Наименование |Описание

|`failure`
|Когда FlowFile не обрабатывается из-за причин, отличных от сбоя при установке состояния, он направляется сюда.

|`success`
|Все FlowFiles успешно обрабатываются и направляются сюда.

|`set state fail`
|Когда сохранение состояния не удается при обработке FlowFile, FlowFile направляется сюда.

|===





=== Writes Attributes (Записываемые атрибуты)

[cols="1a,2a",options="header",]
|===
|Наименование |Описание

|`rolling_window_value`
|Значение скользящего окна (сумма всех значений, сохраненных).

|`rolling_window_count`
|Количество FlowFiles, увиденных в скользящем окне.

|`rolling_window_mean`
|Среднее значение FlowFiles, увиденных в скользящем окне.

|`rolling_window_variance`
|Дисперсия FlowFiles, увиденных в скользящем окне.

|`rolling_window_stddev`
|Стандартное отклонение (положительный квадратный корень из дисперсии) FlowFiles, увиденных в скользящем окне.

|===







