= ExtractAvroMetadata 2.2.0

Извлекает метаданные из заголовка файла Avro.

[horizontal]
*Tags* (Ключевые слова):
avro, metadata, schema
[horizontal]
*Input Requirement* (Требования к вводу данных):
REQUIRED
[horizontal]
*Supports Sensitive Dynamic* (Поддержка динамически изменяемых параметров, которые могут содержать конфиденциальную информацию):
 False (Нет) 



== Properties (Свойства)


.*Fingerprint Algorithm*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Алгоритм отпечатка

[horizontal]
*DESCRIPTION (Описание):*:: Алгоритм, используемый для генерации отпечатка схемы. Доступные варианты основаны на рекомендациях Avro по созданию отпечатков.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*ALLOWABLE VALUES (Допустимые значения):*::

* CRC-64-AVRO

* MD5

* SHA-256


[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.Metadata Keys
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Metadata Keys (Ключи метаданных)

[horizontal]
*DESCRIPTION (Описание):*:: Список ключей, разделенных запятыми, указывающих пары ключ/значение для извлечения из заголовка Avro-файла. Ключ 'avro.schema' можно использовать для извлечения полной схемы в формате JSON, а ключ 'avro.codec' можно использовать для извлечения имени кодека, если он существует.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  False (Нет) 
************************************************
.*Count Items*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Count Items (Подсчет элементов)

[horizontal]
*DESCRIPTION (Описание):*:: Если true, количество элементов в файле данных будет подсчитано и сохранено в атрибуте FlowFile 'item.count'. Подсчет выполняется путем чтения блоков и получения количества элементов для каждого блока, тем самым избегая десериализации. Элементы, которые будут подсчитаны, будут верхнеуровневыми элементами в файле данных. Например, при схеме типа record элементы будут записями, а для схемы типа Array - массивами (не количество записей в каждом массиве).


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*ALLOWABLE VALUES (Допустимые значения):*::

* true

* false


[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************










=== Relationships (Связи)

[cols="1a,2a",options="header",]
|===
|Наименование |Описание

|`success`
|Поток файлов перенаправляется в это отношение после извлечения метаданных.

|`failure`
|Поток файлов перенаправляется в это отношение, если он не может быть проанализирован как Avro или для какой-либо другой причины метаданные извлечь не удается.

|===





=== Writes Attributes (Записываемые атрибуты)

[cols="1a,2a",options="header",]
|===
|Наименование |Описание

|`schema.type`
|Тип схемы (т.е. запись, перечисление и т.д.).

|`schema.name`
|Содержит имя, если тип — это запись, перечисление или фиксированный, в противном случае содержит имя примитивного типа.

|`schema.fingerprint`
|Результат алгоритма Fingerprint в виде шестнадцатеричной строки.

|`item.count`
|Общее количество элементов в файле данных, записывается только если установлено значение Count Items равное true.

|===







