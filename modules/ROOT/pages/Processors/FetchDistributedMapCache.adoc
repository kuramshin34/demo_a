= FetchDistributedMapCache 2.2.0

Вычисляет ключ(и) кэша из атрибутов FlowFile, для каждого входящего FlowFile, и получает значение(я) из распределенного кэша карт (Distributed Map Cache), связанного с каждым ключом. Если не настроен на запись атрибута назначения, содержимое входящего FlowFile заменяется двоичными данными, полученными из распределенного кэша карт. Если под этим ключом ничего не хранится, поток будет направлен в 'not-found'. Обратите внимание, что процессор всегда пытается прочитать всё кэшированное значение в память перед его размещением в назначении. Это может быть потенциально проблематично, если кэшированное значение очень велико.

[horizontal]
*Tags* (Ключевые слова):
cache, distributed, fetch, map
[horizontal]
*Input Requirement* (Требования к вводу данных):
REQUIRED
[horizontal]
*Supports Sensitive Dynamic* (Поддержка динамически изменяемых параметров, которые могут содержать конфиденциальную информацию):
 False (Нет) 



== Properties (Свойства)


.*Cache Entry Identifier*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Cache Entry Identifier (Идентификатор записи кэша)

[horizontal]
*DESCRIPTION (Описание):*:: Список атрибутов FlowFile, разделенных запятыми, или результаты утверждений языка выражений Attribute Expression Language, которые будут оцениваться по отношению к FlowFile для определения значения (значений), используемых для идентификации дубликатов; именно эти значения кэшируются. Примечание: Допускается только один Идентификатор записи кэша, если не указано 'Put Cache Value In Attribute'. Множественный поиск в кэше поддерживается только при назначении набора атрибутов (см. документацию по 'Put Cache Value In Attribute' для более подробной информации, включая соглашение о наименовании).


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Environment variables and FlowFile Attributes (Переменные среды и атрибуты FlowFile)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.*Distributed Cache Service*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Distributed Cache Service (Распределенный кэш-сервис)

[horizontal]
*DESCRIPTION (Описание):*:: Сервис контроллера, используемый для получения кэшированных значений.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.Put Cache Value In Attribute
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Put Cache Value In Attribute (Поместить значение кэша в атрибут)

[horizontal]
*DESCRIPTION (Описание):*:: Если установлено, полученное значение кэша будет помещено в атрибут потока файлов вместо содержимого FlowFile. Ключ атрибута, куда будет помещено значение, определяется оценкой значения этого свойства. Если выбраны несколько идентификаторов записей кэша, будут записаны несколько атрибутов, используя оцененное значение этого свойства, с добавлением точки (.) и названием идентификатора записи кэша.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Environment variables and FlowFile Attributes (Переменные среды и атрибуты FlowFile)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  False (Нет) 
************************************************
.Max Length To Put In Attribute
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Максимальная длина для вставки в атрибут (Max Length To Put In Attribute)

[horizontal]
*DESCRIPTION (Описание):*:: Если маршрутизация значения кэша в атрибут потока (установка свойства "Put Cache Value in attribute"), количество символов, помещаемых в значение атрибута, будет не более этого количества. Это важно, так как атрибуты хранятся в памяти, и большие атрибуты быстро вызовут проблемы с переполнением памяти. Если выходные данные превышают это значение, они будут усечены для вписывания.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  False (Нет) 
************************************************
.Character Set
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Character Set (Символьный набор)

[horizontal]
*DESCRIPTION (Описание):*:: The Character Set in which the cached value is encoded. This will only be used when routing to an attribute.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  False (Нет) 
************************************************










=== Relationships (Связи)

[cols="1a,2a",options="header",]
|===
|Наименование |Описание

|`failure`
|Если не удается взаимодействовать с кэшем или если кэш входит оценивается как пустой, FlowFile будет наказан и направлен в это отношение

|`success`
|Если кэш был успешно взаимодействован, он будет направлен в это отношение

|`not-found`
|Если идентификатор записи FlowFile в кэше не найден в кэше, он будет направлен в это отношение

|===





=== Writes Attributes (Записываемые атрибуты)

[cols="1a,2a",options="header",]
|===
|Наименование |Описание

|`user-defined`
|Если свойство 'Put Cache Value In Attribute' установлено, то что бы это ни было станет ключом атрибута и значение будет ответом из распределенного кэша карт. Если выбраны несколько идентификаторов записи кэша, будут записаны несколько атрибутов, используя оцененное значение этого свойства, со значением, разделенным точкой (.) и именем идентификатора записи кэша. Например, если свойство 'Cache Entry Identifier' установлено в 'id,name', а свойство user-defined называется 'fetched', будут записаны два атрибута: fetched.id и fetched.name, содержащие свои значения.

|===







=== Смотрите также


* xref:Processors/DistributedMapCacheClientService.adoc[DistributedMapCacheClientService]

* xref:Processors/DistributedMapCacheServer.adoc[DistributedMapCacheServer]

* xref:Processors/PutDistributedMapCache.adoc[PutDistributedMapCache]


