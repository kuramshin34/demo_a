= SplitAvro 2.2.0

Разделяет двоичный закодированный файл Avro на меньшие файлы на основе назначенного размера вывода. Стратегия выхода определяет, будут ли меньшие файлы представлять собой файлы Avro или простые записи Avro с метаданными в атрибутах FlowFile. Выход всегда двоично-закодированный.

[horizontal]
*Tags* (Ключевые слова):
avro, split
[horizontal]
*Input Requirement* (Требования к вводу данных):
REQUIRED
[horizontal]
*Supports Sensitive Dynamic* (Поддержка динамически изменяемых параметров, которые могут содержать конфиденциальную информацию):
 False (Нет) 



== Properties (Свойства)


.*Split Strategy*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Split Strategy (Стратегия разделения входящего файла данных)

[horizontal]
*DESCRIPTION (Описание):*:: The strategy for splitting the incoming datafile. The Record strategy will read the incoming datafile by de-serializing each record.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*ALLOWABLE VALUES (Допустимые значения):*::

* Record (Запись): Split at Record boundaries 


[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.*Output Size*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Output Size (Размер вывода)

[horizontal]
*DESCRIPTION (Описание):*:: Количество Avro записей, включаемых в каждый разбитый файл. В случаях, когда входящий файл содержит меньше записей, чем размер вывода, или если общее количество записей не делится нацело на размер вывода, возможно получение разбитого файла с меньшим количеством записей.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.*Output Strategy*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Output Strategy (Стратегия вывода)

[horizontal]
*DESCRIPTION (Описание):*:: Определяет формат вывода. Либо формат объектного контейнера файла Avro, либо простой запись. Вывод простых записей предназначен только для использования в системах, которые уже требуют его, и не должен быть необходим для обычного использования.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*ALLOWABLE VALUES (Допустимые значения):*::

* Datafile (Файл формата объекта Avro): Формат объектного контейнера файла Avro 

* Bare Record (Простая запись): Простые Avro записи 


[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.*Transfer Metadata*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Transfer Metadata (Перенос метаданных)

[horizontal]
*DESCRIPTION (Описание):*:: Возможность переноса метаданных из родительского файла данных в дочерние. Если стратегия вывода - это простой запись, то метаданные будут храниться как атрибуты FlowFile, иначе они будут находиться в заголовке Datafile.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*ALLOWABLE VALUES (Допустимые значения):*::

* true

* false


[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************






=== Системные ресурсы

[cols="1a,2a",options="header",]
|===
|Ресурс |Описание


|MEMORY
|Экземпляр этого компонента может вызвать высокое использование системного ресурса. Множественные экземпляры или высокие настройки конкоррентности могут привести к снижению производительности.

|===





=== Relationships (Связи)

[cols="1a,2a",options="header",]
|===
|Наименование |Описание

|`failure`
|Если FlowFile не обрабатывается по какой-либо причине (например, FlowFile не является допустимым Avro), он будет направлен в эту связь.

|`original`
|Исходный FlowFile, который был разделен. Если FlowFile не обрабатывается, ничего не будет отправлено в эту связь.

|`split`
|Все новые файлы, полученные из исходного FlowFile, будут направлены в эту связь.

|===





=== Writes Attributes (Записываемые атрибуты)

[cols="1a,2a",options="header",]
|===
|Наименование |Описание

|`fragment.identifier`
|Все разделенные FlowFiles, произведенные из одного родительского FlowFile, будут иметь добавленный атрибут UUID с уникально сгенерированным значением.

|`fragment.index`
|Одноуказательный номер, указывающий порядок разделенных FlowFiles, созданных из одного родительского FlowFile.

|`fragment.count`
|Количество разделенных FlowFiles, сгенерированных из родительского FlowFile.

|`segment.original.filename `
|Имя файла родительского FlowFile.

|===







