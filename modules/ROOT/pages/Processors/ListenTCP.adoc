= ListenTCP 2.2.0

Прослушивает входящие TCP-соединения и читает данные из каждого соединения, используя разделитель строк в качестве маркера сообщения. По умолчанию каждое сообщение производит один FlowFile, однако это можно контролировать, увеличив размер партии до большего значения для более высокой пропускной способности. Размер буфера приема должен быть установлен как максимальный размер принимаемых сообщений, что означает, если каждые 100 КБ имеют разделитель строк, то размер буфера приема должен быть больше 100 КБ. Процессор может быть настроен для использования службы SSL-контекста для разрешения только защищенных соединений. Когда подключенные клиенты представляют сертификаты для взаимной проверки TLS, Distinguished Names сертификата клиента (субъекта) прикрепляется к исходящим FlowFiles в качестве атрибутов. Процессор не выполняет авторизацию на основе значений Distinguished Name, но поскольку эти значения прикреплены к исходящим FlowFiles, авторизация может быть реализована на основе этих атрибутов.

[horizontal]
*Tags* (Ключевые слова):
listen, ssl, tcp, tls
[horizontal]
*Input Requirement* (Требования к вводу данных):
FORBIDDEN
[horizontal]
*Supports Sensitive Dynamic* (Поддержка динамически изменяемых параметров, которые могут содержать конфиденциальную информацию):
 False (Нет) 



== Properties (Свойства)


.Local Network Interface
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Local Network Interface (Локальный сетевой интерфейс)

[horizontal]
*DESCRIPTION (Описание):*:: The name of a local network interface to be used to restrict listening to a specific LAN.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Environment variables defined at JVM level and system properties (Переменные окружения, определенные на уровне JVM и системных свойств)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  False (Нет) 
************************************************
.*Port*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Port (Порт)

[horizontal]
*DESCRIPTION (Описание):*:: The port to listen on for communication.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Environment variables defined at JVM level and system properties (Переменные окружения, определенные на уровне JVM и системных свойств)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.*Receive Buffer Size*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Receive Buffer Size (Размер буфера приема)

[horizontal]
*DESCRIPTION (Описание):*:: Размер каждого буфера, используемого для приема сообщений. Настройте это значение в зависимости от ожидаемого размера поступающих сообщений.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.*Max Size Of Message Queue*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Max Size of Message Queue (Максимальный размер очереди сообщений)

[horizontal]
*DESCRIPTION (Описание):*:: Максимальный размер внутренней очереди, используемой для буферизации сообщений, передаваемых из нижележащего канала в процессор. Увеличение этого значения позволяет большему количеству сообщений храниться в памяти во время всплесков поступающих сообщений, но увеличивает общее использование памяти процессором во время этих всплесков.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.*Max Size Of Socket Buffer*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Max Size of Socket Buffer (Максимальный размер буфера сокета)

[horizontal]
*DESCRIPTION (Описание):*:: Максимальный размер буфера сокета, который следует использовать. Это рекомендация для операционной системы указать, насколько большой должен быть буфер сокета. Если это значение установлено слишком низким, буфер может заполниться до того, как данные могут быть прочитаны, и поступающие данные будут отброшены.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.*Character Set*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Character Set (Символьный набор)

[horizontal]
*DESCRIPTION (Описание):*:: Указывает символьный набор полученных данных.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.*Max Number Of Tcp Connections*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Максимальное количество рабочих потоков (Worker Threads)

[horizontal]
*DESCRIPTION (Описание):*:: Максимальное количество рабочих потоков, доступных для обслуживания TCP-соединений.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.*Max Batch Size*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Max Batch Size (Максимальный размер пакета)

[horizontal]
*DESCRIPTION (Описание):*:: The maximum number of messages to add to a single FlowFile. If multiple messages are available, they will be concatenated along with the <Message Delimiter> up to this configured maximum number of messages


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.*Message Delimiter*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Batching Message Delimiter (Delimiter между сообщениями)

[horizontal]
*DESCRIPTION (Описание):*:: Указывает разделитель, который следует разместить между сообщениями при их группировке вместе (см. <Максимальный размер партии> свойство).


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.*Idle-Timeout*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Idle Connection Timeout (Время ожидания бездействия подключения)

[horizontal]
*DESCRIPTION (Описание):*:: Количество времени, в течение которого клиентский соединение останется открытым, если не будет получено данных. По умолчанию 0 секунд позволяет сохранять подключения открытыми до их закрытия клиентом.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: 
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.*Pool-Receive-Buffers*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Pool Receive Buffers (Буферы приема пула)

[horizontal]
*DESCRIPTION (Описание):*:: Включает или отключает пуллинг буферов, которые процессор использует для обработки байтов, полученных через сокетные подключения. Фреймворк выделяет буферы по мере необходимости во время обработки.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*ALLOWABLE VALUES (Допустимые значения):*::

* True

* False


[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************
.Ssl Context Service
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: SSL Context Service (Сервис контекста SSL)

[horizontal]
*DESCRIPTION (Описание):*:: Контроллерный сервис для получения контекста SSL. Если это свойство установлено, сообщения будут получаться по защищенному соединению.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*REQUIRED (Обязательный параметр):*::  False (Нет) 
************************************************
.*Client Auth*
************************************************
[horizontal]
*DISPLAY NAME (Отображаемое наименование):*:: Client Auth (Клиентское подтверждение)

[horizontal]
*DESCRIPTION (Описание):*:: Политика аутентификации клиента для SSL-контекста. Используется только если предоставлен сервис SSL-контекста.


[horizontal]
*EXPRESSION LANGUAGE SCOPE (Область видимости языка выражений):*:: Not Supported (Не поддерживается)
[horizontal]
*SENSITIVE (Содержит конфиденциальные данные):*::  False (Нет) 

[horizontal]
*ALLOWABLE VALUES (Допустимые значения):*::

* WANT (Желательно)

* REQUIRED (Требуется)

* NONE (Нет)


[horizontal]
*REQUIRED (Обязательный параметр):*::  True (Да) 
************************************************










=== Relationships (Связи)

[cols="1a,2a",options="header",]
|===
|Наименование |Описание

|`success`
|Сообщения, полученные успешно, будут отправлены по этому отношению.

|===





=== Writes Attributes (Записываемые атрибуты)

[cols="1a,2a",options="header",]
|===
|Наименование |Описание

|`tcp.sender`
|Отправляющий хост сообщений.

|`tcp.port`
|Порт, на который были получены сообщения.

|`client.certificate.issuer.dn`
|Для соединений с использованием взаимной проверки TLS Distinguished Name организации, выдавшей сертификат клиента, прикрепляется к FlowFile.

|`client.certificate.subject.dn`
|Для соединений с использованием взаимной проверки TLS Distinguished Name владельца сертификата клиента (субъекта) прикрепляется к FlowFile.

|===







